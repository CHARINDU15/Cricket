{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport authService from '../services/authService';\nconst useAuth = () => {\n  _s();\n  const {\n    setUser\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const user = await authService.getCurrentUser();\n        setUser(user);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuth();\n  }, [setUser]);\n  const login = async credentials => {\n    setLoading(true);\n    try {\n      const user = await authService.login(credentials);\n      setUser(user);\n    } catch (err) {\n      setError(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const logout = async () => {\n    setLoading(true);\n    try {\n      await authService.logout();\n      setUser(null);\n    } catch (err) {\n      setError(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    loading,\n    error,\n    login,\n    logout\n  };\n};\n_s(useAuth, \"9S+a9zprGOIW9cwi/dmwzdkMGSE=\");\nexport default useAuth;","map":{"version":3,"names":["useState","useEffect","useContext","AuthContext","authService","useAuth","_s","setUser","loading","setLoading","error","setError","checkAuth","user","getCurrentUser","err","login","credentials","logout"],"sources":["C:/Users/USER/Downloads/Dashbord_Prmot/spirit11-fantasy-cricket-league/frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport authService from '../services/authService';\n\nconst useAuth = () => {\n    const { setUser } = useContext(AuthContext);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const checkAuth = async () => {\n            try {\n                const user = await authService.getCurrentUser();\n                setUser(user);\n            } catch (err) {\n                setError(err);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkAuth();\n    }, [setUser]);\n\n    const login = async (credentials) => {\n        setLoading(true);\n        try {\n            const user = await authService.login(credentials);\n            setUser(user);\n        } catch (err) {\n            setError(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const logout = async () => {\n        setLoading(true);\n        try {\n            await authService.logout();\n            setUser(null);\n        } catch (err) {\n            setError(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return {\n        loading,\n        error,\n        login,\n        logout,\n    };\n};\n\nexport default useAuth;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,WAAW,MAAM,yBAAyB;AAEjD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM;IAAEC;EAAQ,CAAC,GAAGL,UAAU,CAACC,WAAW,CAAC;EAC3C,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACZ,MAAMW,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAMC,IAAI,GAAG,MAAMT,WAAW,CAACU,cAAc,CAAC,CAAC;QAC/CP,OAAO,CAACM,IAAI,CAAC;MACjB,CAAC,CAAC,OAAOE,GAAG,EAAE;QACVJ,QAAQ,CAACI,GAAG,CAAC;MACjB,CAAC,SAAS;QACNN,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDG,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACL,OAAO,CAAC,CAAC;EAEb,MAAMS,KAAK,GAAG,MAAOC,WAAW,IAAK;IACjCR,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAMI,IAAI,GAAG,MAAMT,WAAW,CAACY,KAAK,CAACC,WAAW,CAAC;MACjDV,OAAO,CAACM,IAAI,CAAC;IACjB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACVJ,QAAQ,CAACI,GAAG,CAAC;IACjB,CAAC,SAAS;MACNN,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,MAAMS,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvBT,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAML,WAAW,CAACc,MAAM,CAAC,CAAC;MAC1BX,OAAO,CAAC,IAAI,CAAC;IACjB,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACVJ,QAAQ,CAACI,GAAG,CAAC;IACjB,CAAC,SAAS;MACNN,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,OAAO;IACHD,OAAO;IACPE,KAAK;IACLM,KAAK;IACLE;EACJ,CAAC;AACL,CAAC;AAACZ,EAAA,CAlDID,OAAO;AAoDb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}